var Ce=Object.defineProperty,Ee=Object.defineProperties;var we=Object.getOwnPropertyDescriptors;var le=Object.getOwnPropertySymbols;var $e=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable;var re=(e,t,n)=>t in e?Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G=(e,t)=>{for(var n in t||(t={}))$e.call(t,n)&&re(e,n,t[n]);if(le)for(var n of le(t))Se.call(t,n)&&re(e,n,t[n]);return e},J=(e,t)=>Ee(e,we(t));var V=(e,t,n)=>new Promise((_,a)=>{var v=l=>{try{c(n.next(l))}catch(m){a(m)}},T=l=>{try{c(n.throw(l))}catch(m){a(m)}},c=l=>l.done?_(l.value):Promise.resolve(l.value).then(v,T);c((n=n.apply(e,t)).next())});import{ax as U,bU as de,ay as te,ai as be,n as F,an as ae,bY as se,ah as W,d as P,aE as L,aX as Z,bg as xe,C as ve,o as fe,Q as Be,V as pe,i as k,ar as ne,aG as oe,ca as Oe,cb as ke,v as D,z as me,cc as Re,h as b,am as K,bP as ze,aj as Ae,aJ as z,bb as Me,bK as Le,bi as Fe,ao as ee,cd as Ve,au as ie,aB as he,aD as De,b5 as Ie,ce,e as Ke,M as Ue,W as We,O as je,X as Xe,aM as qe,bj as He}from"./index-DXV2JZ8m.js";import{c as A}from"./strings-BZLQ_Urz.js";import{u as Ye}from"./index-CVZ_8dyu.js";const j=Symbol("tabsRootContextKey"),Ge=U({tabs:{type:te(Array),default:()=>de([])}}),ye="ElTabBar",Je=F({name:ye}),Qe=F(J(G({},Je),{props:Ge,setup(e,{expose:t}){const n=e,_=ne(),a=ae(j);a||se(ye,"<el-tabs><el-tab-bar /></el-tabs>");const v=W("tabs"),T=P(),c=P(),l=()=>{let r=0,g=0;const p=["top","bottom"].includes(a.props.tabPosition)?"width":"height",O=p==="width"?"x":"y",o=O==="x"?"left":"top";return n.tabs.every($=>{var C,x;const N=(x=(C=_.parent)==null?void 0:C.refs)==null?void 0:x[`tab-${$.uid}`];if(!N)return!1;if(!$.active)return!0;r=N[`offset${A(o)}`],g=N[`client${A(p)}`];const S=window.getComputedStyle(N);return p==="width"&&(g-=Number.parseFloat(S.paddingLeft)+Number.parseFloat(S.paddingRight),r+=Number.parseFloat(S.paddingLeft)),!1}),{[p]:`${g}px`,transform:`translate${A(O)}(${r}px)`}},m=()=>c.value=l(),h=[],u=()=>{var r;h.forEach(p=>p.stop()),h.length=0;const g=(r=_.parent)==null?void 0:r.refs;if(g){for(const p in g)if(p.startsWith("tab-")){const O=g[p];O&&h.push(Z(O,m))}}};L(()=>n.tabs,()=>V(this,null,function*(){yield oe(),m(),u()}),{immediate:!0});const f=Z(T,()=>m());return xe(()=>{h.forEach(r=>r.stop()),h.length=0,f.stop()}),t({ref:T,update:m}),(r,g)=>(fe(),ve("div",{ref_key:"barRef",ref:T,class:pe([k(v).e("active-bar"),k(v).is(k(a).props.tabPosition)]),style:Be(c.value)},null,6))}}));var Ze=be(Qe,[["__file","tab-bar.vue"]]);const et=U({panes:{type:te(Array),default:()=>de([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),tt={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},ue="ElTabNav",at=F({name:ue,props:et,emits:tt,setup(e,{expose:t,emit:n}){const _=ae(j);_||se(ue,"<el-tabs><tab-nav /></el-tabs>");const a=W("tabs"),v=Oe(),T=ke(),c=P(),l=P(),m=P(),h=P(),u=P(!1),f=P(0),r=P(!1),g=P(!0),p=D(()=>["top","bottom"].includes(_.props.tabPosition)?"width":"height"),O=D(()=>({transform:`translate${p.value==="width"?"X":"Y"}(-${f.value}px)`})),o=()=>{if(!c.value)return;const i=c.value[`offset${A(p.value)}`],d=f.value;if(!d)return;const s=d>i?d-i:0;f.value=s},$=()=>{if(!c.value||!l.value)return;const i=l.value[`offset${A(p.value)}`],d=c.value[`offset${A(p.value)}`],s=f.value;if(i-s<=d)return;const E=i-s>d*2?s+d:i-d;f.value=E},C=()=>V(this,null,function*(){const i=l.value;if(!u.value||!m.value||!c.value||!i)return;yield oe();const d=m.value.querySelector(".is-active");if(!d)return;const s=c.value,E=["top","bottom"].includes(_.props.tabPosition),y=d.getBoundingClientRect(),w=s.getBoundingClientRect(),I=E?i.offsetWidth-w.width:i.offsetHeight-w.height,R=f.value;let B=R;E?(y.left<w.left&&(B=R-(w.left-y.left)),y.right>w.right&&(B=R+y.right-w.right)):(y.top<w.top&&(B=R-(w.top-y.top)),y.bottom>w.bottom&&(B=R+(y.bottom-w.bottom))),B=Math.max(B,0),f.value=Math.min(B,I)}),x=()=>{var i;if(!l.value||!c.value)return;e.stretch&&((i=h.value)==null||i.update());const d=l.value[`offset${A(p.value)}`],s=c.value[`offset${A(p.value)}`],E=f.value;s<d?(u.value=u.value||{},u.value.prev=E,u.value.next=E+s<d,d-E<s&&(f.value=d-s)):(u.value=!1,E>0&&(f.value=0))},N=i=>{let d=0;switch(i.code){case z.left:case z.up:d=-1;break;case z.right:case z.down:d=1;break;default:return}const s=Array.from(i.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let y=s.indexOf(i.target)+d;y<0?y=s.length-1:y>=s.length&&(y=0),s[y].focus({preventScroll:!0}),s[y].click(),S()},S=()=>{g.value&&(r.value=!0)},X=()=>r.value=!1;return L(v,i=>{i==="hidden"?g.value=!1:i==="visible"&&setTimeout(()=>g.value=!0,50)}),L(T,i=>{i?setTimeout(()=>g.value=!0,50):g.value=!1}),Z(m,x),me(()=>setTimeout(()=>C(),0)),Re(()=>x()),t({scrollToActiveTab:C,removeFocus:X,tabListRef:l,tabBarRef:h}),()=>{const i=u.value?[b("span",{class:[a.e("nav-prev"),a.is("disabled",!u.value.prev)],onClick:o},[b(K,null,{default:()=>[b(ze,null,null)]})]),b("span",{class:[a.e("nav-next"),a.is("disabled",!u.value.next)],onClick:$},[b(K,null,{default:()=>[b(Ae,null,null)]})])]:null,d=e.panes.map((s,E)=>{var y,w,I,R;const B=s.uid,q=s.props.disabled,H=(w=(y=s.props.name)!=null?y:s.index)!=null?w:`${E}`,Y=!q&&(s.isClosable||e.editable);s.index=`${E}`;const Ne=Y?b(K,{class:"is-icon-close",onClick:M=>n("tabRemove",s,M)},{default:()=>[b(Me,null,null)]}):null,Te=((R=(I=s.slots).label)==null?void 0:R.call(I))||s.props.label,Pe=!q&&s.active?0:-1;return b("div",{ref:`tab-${B}`,class:[a.e("item"),a.is(_.props.tabPosition),a.is("active",s.active),a.is("disabled",q),a.is("closable",Y),a.is("focus",r.value)],id:`tab-${H}`,key:`tab-${B}`,"aria-controls":`pane-${H}`,role:"tab","aria-selected":s.active,tabindex:Pe,onFocus:()=>S(),onBlur:()=>X(),onClick:M=>{X(),n("tabClick",s,H,M)},onKeydown:M=>{Y&&(M.code===z.delete||M.code===z.backspace)&&n("tabRemove",s,M)}},[Te,Ne])});return b("div",{ref:m,class:[a.e("nav-wrap"),a.is("scrollable",!!u.value),a.is(_.props.tabPosition)]},[i,b("div",{class:a.e("nav-scroll"),ref:c},[b("div",{class:[a.e("nav"),a.is(_.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(_.props.tabPosition))],ref:l,style:O.value,role:"tablist",onKeydown:N},[e.type?null:b(Ze,{ref:h,tabs:[...e.panes]},null),d])])])}}}),st=U({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:te(Function),default:()=>!0},stretch:Boolean}),Q=e=>Le(e)||Fe(e),nt={[he]:e=>Q(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>Q(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>Q(e),tabAdd:()=>!0},ot=F({name:"ElTabs",props:st,emits:nt,setup(e,{emit:t,slots:n,expose:_}){var a;const v=W("tabs"),T=D(()=>["left","right"].includes(e.tabPosition)),{children:c,addChild:l,removeChild:m}=Ye(ne(),"ElTabPane"),h=P(),u=P((a=e.modelValue)!=null?a:"0"),f=(o,$=!1)=>V(this,null,function*(){var C,x;if(!(u.value===o||ie(o)))try{let N;if(e.beforeLeave){const S=e.beforeLeave(o,u.value);N=S instanceof Promise?yield S:S}else N=!0;N!==!1&&(u.value=o,$&&(t(he,o),t("tabChange",o)),(x=(C=h.value)==null?void 0:C.removeFocus)==null||x.call(C))}catch(N){}}),r=(o,$,C)=>{o.props.disabled||(t("tabClick",o,C),f($,!0))},g=(o,$)=>{o.props.disabled||ie(o.props.name)||($.stopPropagation(),t("edit",o.props.name,"remove"),t("tabRemove",o.props.name))},p=()=>{t("edit",void 0,"add"),t("tabAdd")};L(()=>e.modelValue,o=>f(o)),L(u,()=>V(this,null,function*(){var o;yield oe(),(o=h.value)==null||o.scrollToActiveTab()})),De(j,{props:e,currentName:u,registerPane:o=>{c.value.push(o)},sortPane:l,unregisterPane:m}),_({currentName:u,tabNavRef:h});const O=({render:o})=>o();return()=>{const o=n["add-icon"],$=e.editable||e.addable?b("div",{class:[v.e("new-tab"),T.value&&v.e("new-tab-vertical")],tabindex:"0",onClick:p,onKeydown:N=>{[z.enter,z.numpadEnter].includes(N.code)&&p()}},[o?ee(n,"add-icon"):b(K,{class:v.is("icon-plus")},{default:()=>[b(Ve,null,null)]})]):null,C=b("div",{class:[v.e("header"),T.value&&v.e("header-vertical"),v.is(e.tabPosition)]},[b(O,{render:()=>{const N=c.value.some(S=>S.slots.label);return b(at,{ref:h,currentName:u.value,editable:e.editable,type:e.type,panes:c.value,stretch:e.stretch,onTabClick:r,onTabRemove:g},{$stable:!N})}},null),$]),x=b("div",{class:v.e("content")},[ee(n,"default")]);return b("div",{class:[v.b(),v.m(e.tabPosition),{[v.m("card")]:e.type==="card",[v.m("border-card")]:e.type==="border-card"}]},[x,C])}}});var lt=ot;const rt=U({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),ge="ElTabPane",it=F({name:ge}),ct=F(J(G({},it),{props:rt,setup(e){const t=e,n=ne(),_=Ie(),a=ae(j);a||se(ge,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const v=W("tab-pane"),T=P(),c=D(()=>t.closable||a.props.closable),l=ce(()=>{var r;return a.currentName.value===((r=t.name)!=null?r:T.value)}),m=P(l.value),h=D(()=>{var r;return(r=t.name)!=null?r:T.value}),u=ce(()=>!t.lazy||m.value||l.value);L(l,r=>{r&&(m.value=!0)});const f=Ke({uid:n.uid,slots:_,props:t,paneName:h,active:l,index:T,isClosable:c});return a.registerPane(f),me(()=>{a.sortPane(f)}),Ue(()=>{a.unregisterPane(f.uid)}),(r,g)=>k(u)?We((fe(),ve("div",{key:0,id:`pane-${k(h)}`,class:pe(k(v).b()),role:"tabpanel","aria-hidden":!k(l),"aria-labelledby":`tab-${k(h)}`},[ee(r.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Xe,k(l)]]):je("v-if",!0)}}));var _e=be(ct,[["__file","tab-pane.vue"]]);const ft=qe(lt,{TabPane:_e}),pt=He(_e);export{ft as E,pt as a};
