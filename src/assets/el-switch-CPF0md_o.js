var ee=Object.defineProperty,ae=Object.defineProperties;var ie=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var L=(i,c,n)=>c in i?ee(i,c,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[c]=n,E=(i,c)=>{for(var n in c||(c={}))te.call(c,n)&&L(i,n,c[n]);if(O)for(var n of O(c))ne.call(c,n)&&L(i,n,c[n]);return i},U=(i,c)=>ae(i,ie(c));import{aN as w,bK as S,bi as T,ax as se,ec as P,aC as A,aB as z,bB as oe,ay as le,bd as V,eg as ce,ai as re,n as $,aR as ue,aU as de,ah as ve,c1 as fe,e1 as pe,v as f,d as C,b7 as he,aE as G,aV as me,z as be,C as p,o as t,k as N,O as u,F as ye,i as a,V as v,g as d,w as h,bf as y,am as m,t as B,ao as R,h as ke,ak as Ie,Q as ge,G as Ve,aG as we,aW as W,bY as Ee,aM as Se}from"./index-DXV2JZ8m.js";const Te=se(E({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:ce},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:V},activeActionIcon:{type:V},activeIcon:{type:V},inactiveIcon:{type:V},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:le(Function)},id:String,tabindex:{type:[String,Number]}},oe(["ariaLabel"]))),Ce={[z]:i=>w(i)||S(i)||T(i),[A]:i=>w(i)||S(i)||T(i),[P]:i=>w(i)||S(i)||T(i)},H="ElSwitch",Ne=$({name:H}),Be=$(U(E({},Ne),{props:Te,emits:Ce,setup(i,{expose:c,emit:n}){const o=i,{formItem:k}=ue(),Q=de(),s=ve("switch"),{inputId:Y}=fe(o,{formItemContext:k}),I=pe(f(()=>o.loading)),K=C(o.modelValue!==!1),b=C(),j=C(),q=f(()=>[s.b(),s.m(Q.value),s.is("disabled",I.value),s.is("checked",l.value)]),J=f(()=>[s.e("label"),s.em("label","left"),s.is("active",!l.value)]),X=f(()=>[s.e("label"),s.em("label","right"),s.is("active",l.value)]),Z=f(()=>({width:he(o.width)}));G(()=>o.modelValue,()=>{K.value=!0});const D=f(()=>K.value?o.modelValue:!1),l=f(()=>D.value===o.activeValue);[o.activeValue,o.inactiveValue].includes(D.value)||(n(z,o.inactiveValue),n(A,o.inactiveValue),n(P,o.inactiveValue)),G(l,e=>{var r;b.value.checked=e,o.validateEvent&&((r=k==null?void 0:k.validate)==null||r.call(k,"change").catch(x=>me()))});const g=()=>{const e=l.value?o.inactiveValue:o.activeValue;n(z,e),n(A,e),n(P,e),we(()=>{b.value.checked=l.value})},F=()=>{if(I.value)return;const{beforeChange:e}=o;if(!e){g();return}const r=e();[W(r),w(r)].includes(!0)||Ee(H,"beforeChange must return type `Promise<boolean>` or `boolean`"),W(r)?r.then(M=>{M&&g()}).catch(M=>{}):r&&g()},_=()=>{var e,r;(r=(e=b.value)==null?void 0:e.focus)==null||r.call(e)};return be(()=>{b.value.checked=l.value}),c({focus:_,checked:l}),(e,r)=>(t(),p("div",{class:v(a(q)),onClick:Ve(F,["prevent"])},[N("input",{id:a(Y),ref_key:"input",ref:b,class:v(a(s).e("input")),type:"checkbox",role:"switch","aria-checked":a(l),"aria-disabled":a(I),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(I),tabindex:e.tabindex,onChange:g,onKeydown:ye(F,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(t(),p("span",{key:0,class:v(a(J))},[e.inactiveIcon?(t(),d(a(m),{key:0},{default:h(()=>[(t(),d(y(e.inactiveIcon)))]),_:1})):u("v-if",!0),!e.inactiveIcon&&e.inactiveText?(t(),p("span",{key:1,"aria-hidden":a(l)},B(e.inactiveText),9,["aria-hidden"])):u("v-if",!0)],2)):u("v-if",!0),N("span",{ref_key:"core",ref:j,class:v(a(s).e("core")),style:ge(a(Z))},[e.inlinePrompt?(t(),p("div",{key:0,class:v(a(s).e("inner"))},[e.activeIcon||e.inactiveIcon?(t(),d(a(m),{key:0,class:v(a(s).is("icon"))},{default:h(()=>[(t(),d(y(a(l)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(t(),p("span",{key:1,class:v(a(s).is("text")),"aria-hidden":!a(l)},B(a(l)?e.activeText:e.inactiveText),11,["aria-hidden"])):u("v-if",!0)],2)):u("v-if",!0),N("div",{class:v(a(s).e("action"))},[e.loading?(t(),d(a(m),{key:0,class:v(a(s).is("loading"))},{default:h(()=>[ke(a(Ie))]),_:1},8,["class"])):a(l)?R(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(t(),d(a(m),{key:0},{default:h(()=>[(t(),d(y(e.activeActionIcon)))]),_:1})):u("v-if",!0)]):a(l)?u("v-if",!0):R(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(t(),d(a(m),{key:0},{default:h(()=>[(t(),d(y(e.inactiveActionIcon)))]),_:1})):u("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(t(),p("span",{key:1,class:v(a(X))},[e.activeIcon?(t(),d(a(m),{key:0},{default:h(()=>[(t(),d(y(e.activeIcon)))]),_:1})):u("v-if",!0),!e.activeIcon&&e.activeText?(t(),p("span",{key:1,"aria-hidden":!a(l)},B(e.activeText),9,["aria-hidden"])):u("v-if",!0)],2)):u("v-if",!0)],10,["onClick"]))}}));var Pe=re(Be,[["__file","switch.vue"]]);const Ke=Se(Pe);export{Ke as E};
