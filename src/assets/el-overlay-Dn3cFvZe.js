var ne=Object.defineProperty,re=Object.defineProperties;var ie=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var J=(e,l,s)=>l in e?ne(e,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[l]=s,N=(e,l)=>{for(var s in l||(l={}))de.call(l,s)&&J(e,s,l[s]);if(H)for(var s of H(l))ue.call(l,s)&&J(e,s,l[s]);return e},R=(e,l)=>re(e,ie(l));import{ax as _,bd as ce,at as fe,ai as x,n as U,ap as ve,an as Q,v as w,e4 as ye,C as K,o as S,k as z,O as j,ao as E,V as p,i as o,t as pe,h as V,w as g,g as G,bf as ge,e5 as me,am as Ce,Q as ee,e6 as be,aN as he,aB as oe,ay as Ee,ar as ke,cG as we,aq as W,d as k,e7 as De,e8 as Se,b7 as Te,e9 as Be,aE as X,z as Ie,ea as Y,aH as Fe,aG as Pe,b5 as Ae,b6 as $e,ah as Le,b8 as Oe,W as Me,b9 as Ne,eb as Re,ba as ze,T as Ve,U as Ue,X as qe,aD as Ke,aM as je}from"./index-B39jV9jF.js";import{t as Ge,i as Ze,E as He}from"./index-BLO7j2E6.js";const ae=Symbol("dialogInjectionKey"),le=_({center:Boolean,alignCenter:Boolean,closeIcon:{type:ce},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Je={close:()=>!0},Qe=(...e)=>l=>{e.forEach(s=>{fe(s)?s(l):s.value=l})},We=U({name:"ElDialogContent"}),Xe=U(R(N({},We),{props:le,emits:Je,setup(e,{expose:l}){const s=e,{t:A}=ve(),{Close:r}=me,{dialogRef:f,headerRef:m,bodyId:C,ns:t,style:i}=Q(ae),{focusTrapRef:v}=Q(be),y=w(()=>[t.b(),t.is("fullscreen",s.fullscreen),t.is("draggable",s.draggable),t.is("align-center",s.alignCenter),{[t.m("center")]:s.center}]),b=Qe(v,f),u=w(()=>s.draggable),c=w(()=>s.overflow),{resetPosition:T,updatePosition:B}=ye(f,m,u,c);return l({resetPosition:T,updatePosition:B}),(n,D)=>(S(),K("div",{ref:o(b),class:p(o(y)),style:ee(o(i)),tabindex:"-1"},[z("header",{ref_key:"headerRef",ref:m,class:p([o(t).e("header"),n.headerClass,{"show-close":n.showClose}])},[E(n.$slots,"header",{},()=>[z("span",{role:"heading","aria-level":n.ariaLevel,class:p(o(t).e("title"))},pe(n.title),11,["aria-level"])]),n.showClose?(S(),K("button",{key:0,"aria-label":o(A)("el.dialog.close"),class:p(o(t).e("headerbtn")),type:"button",onClick:$=>n.$emit("close")},[V(o(Ce),{class:p(o(t).e("close"))},{default:g(()=>[(S(),G(ge(n.closeIcon||o(r))))]),_:1},8,["class"])],10,["aria-label","onClick"])):j("v-if",!0)],2),z("div",{id:o(C),class:p([o(t).e("body"),n.bodyClass])},[E(n.$slots,"default")],10,["id"]),n.$slots.footer?(S(),K("footer",{key:0,class:p([o(t).e("footer"),n.footerClass])},[E(n.$slots,"footer")],2)):j("v-if",!0)],6))}}));var Ye=x(Xe,[["__file","dialog-content.vue"]]);const _e=_(R(N({},le),{appendToBody:Boolean,appendTo:{type:Ge.to.type,default:"body"},beforeClose:{type:Ee(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}})),xe={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[oe]:e=>he(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},eo=(e,l)=>{var s;const r=ke().emit,{nextZIndex:f}=we();let m="";const C=W(),t=W(),i=k(!1),v=k(!1),y=k(!1),b=k((s=e.zIndex)!=null?s:f());let u,c;const T=De("namespace",Se),B=w(()=>{const d={},h=`--${T.value}-dialog`;return e.fullscreen||(e.top&&(d[`${h}-margin-top`]=e.top),e.width&&(d[`${h}-width`]=Te(e.width))),d}),n=w(()=>e.alignCenter?{display:"flex"}:{});function D(){r("opened")}function $(){r("closed"),r(oe,!1),e.destroyOnClose&&(y.value=!1)}function q(){r("close")}function L(){c==null||c(),u==null||u(),e.openDelay&&e.openDelay>0?{stop:u}=Y(()=>O(),e.openDelay):O()}function I(){u==null||u(),c==null||c(),e.closeDelay&&e.closeDelay>0?{stop:c}=Y(()=>M(),e.closeDelay):M()}function F(){function d(h){h||(v.value=!0,i.value=!1)}e.beforeClose?e.beforeClose(d):I()}function P(){e.closeOnClickModal&&F()}function O(){Fe&&(i.value=!0)}function M(){i.value=!1}function a(){r("openAutoFocus")}function Z(){r("closeAutoFocus")}function se(d){var h;((h=d.detail)==null?void 0:h.focusReason)==="pointer"&&d.preventDefault()}e.lockScroll&&Be(i);function te(){e.closeOnPressEscape&&F()}return X(()=>e.modelValue,d=>{d?(v.value=!1,L(),y.value=!0,b.value=Ze(e.zIndex)?f():b.value++,Pe(()=>{r("open"),l.value&&(l.value.parentElement.scrollTop=0,l.value.parentElement.scrollLeft=0,l.value.scrollTop=0)})):i.value&&I()}),X(()=>e.fullscreen,d=>{l.value&&(d?(m=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=m)}),Ie(()=>{e.modelValue&&(i.value=!0,y.value=!0,L())}),{afterEnter:D,afterLeave:$,beforeLeave:q,handleClose:F,onModalClick:P,close:I,doClose:M,onOpenAutoFocus:a,onCloseAutoFocus:Z,onCloseRequested:te,onFocusoutPrevented:se,titleId:C,bodyId:t,closed:v,style:B,overlayDialogStyle:n,rendered:y,visible:i,zIndex:b}},oo=U({name:"ElDialog",inheritAttrs:!1}),ao=U(R(N({},oo),{props:_e,emits:xe,setup(e,{expose:l}){const s=e,A=Ae();$e({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},w(()=>!!A.title));const r=Le("dialog"),f=k(),m=k(),C=k(),{visible:t,titleId:i,bodyId:v,style:y,overlayDialogStyle:b,rendered:u,zIndex:c,afterEnter:T,afterLeave:B,beforeLeave:n,handleClose:D,onModalClick:$,onOpenAutoFocus:q,onCloseAutoFocus:L,onCloseRequested:I,onFocusoutPrevented:F}=eo(s,f);Ke(ae,{dialogRef:f,headerRef:m,bodyId:v,ns:r,rendered:u,style:y});const P=Re($),O=w(()=>s.draggable&&!s.fullscreen);return l({visible:t,dialogContentRef:C,resetPosition:()=>{var a;(a=C.value)==null||a.resetPosition()},handleClose:D}),(a,Z)=>(S(),G(o(He),{to:a.appendTo,disabled:a.appendTo!=="body"?!1:!a.appendToBody},{default:g(()=>[V(Oe,{name:"dialog-fade",onAfterEnter:o(T),onAfterLeave:o(B),onBeforeLeave:o(n),persisted:""},{default:g(()=>[Me(V(o(Ne),{"custom-mask-event":"",mask:a.modal,"overlay-class":a.modalClass,"z-index":o(c)},{default:g(()=>[z("div",{role:"dialog","aria-modal":"true","aria-label":a.title||void 0,"aria-labelledby":a.title?void 0:o(i),"aria-describedby":o(v),class:p(`${o(r).namespace.value}-overlay-dialog`),style:ee(o(b)),onClick:o(P).onClick,onMousedown:o(P).onMousedown,onMouseup:o(P).onMouseup},[V(o(ze),{loop:"",trapped:o(t),"focus-start-el":"container",onFocusAfterTrapped:o(q),onFocusAfterReleased:o(L),onFocusoutPrevented:o(F),onReleaseRequested:o(I)},{default:g(()=>[o(u)?(S(),G(Ye,Ve({key:0,ref_key:"dialogContentRef",ref:C},a.$attrs,{center:a.center,"align-center":a.alignCenter,"close-icon":a.closeIcon,draggable:o(O),overflow:a.overflow,fullscreen:a.fullscreen,"header-class":a.headerClass,"body-class":a.bodyClass,"footer-class":a.footerClass,"show-close":a.showClose,title:a.title,"aria-level":a.headerAriaLevel,onClose:o(D)}),Ue({header:g(()=>[a.$slots.title?E(a.$slots,"title",{key:1}):E(a.$slots,"header",{key:0,close:o(D),titleId:o(i),titleClass:o(r).e("title")})]),default:g(()=>[E(a.$slots,"default")]),_:2},[a.$slots.footer?{name:"footer",fn:g(()=>[E(a.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):j("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[qe,o(t)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}}));var lo=x(ao,[["__file","dialog.vue"]]);const ro=je(lo);export{ro as E,_e as a,xe as d,eo as u};
